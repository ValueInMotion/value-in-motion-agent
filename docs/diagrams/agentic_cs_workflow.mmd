flowchart TB
  %% Agentic Customer Success Operations â€” AI-Augmented Lifecycle
  
  %% =========================
  %% INTELLIGENCE LAYER (Central Orchestration)
  %% =========================
  subgraph INTEL["ðŸ§  AI Intelligence Layer"]
    direction LR
    ai_engine["AI Orchestration Engine"]
    ai_signals["Predictive Signals"]
    ai_insights["Automated Insights"]
    ai_triggers["Event Triggers"]
    
    ai_engine --> ai_signals
    ai_engine --> ai_insights
    ai_engine --> ai_triggers
  end
  
  %% =========================
  %% AUTOMATED PHASES (Primary Flow)
  %% =========================
  
  subgraph AP1["âš¡ Phase 1: Automated Transition"]
    direction TB
    a1_1["ðŸ¤– Auto: Sales data ingestion"]
    a1_2["ðŸ¤– Auto: Account provisioning"]
    a1_3["ðŸ¤– Auto: Contract parsing & alerts"]
    a1_4["ðŸ‘¤ Human: Strategic handoff review"]
    
    a1_1 --> a1_2 --> a1_3 --> a1_4
  end
  
  subgraph AP2["âš¡ Phase 2: Intelligent Discovery"]
    direction TB
    a2_1["ðŸ¤– Auto: Pre-call research (AI)"]
    a2_2["ðŸ¤– Auto: Send alignment survey"]
    a2_3["ðŸ¤– Auto: Maturity scoring (AI)"]
    a2_4["ðŸ¤– Auto: Use-case extraction (NLP)"]
    a2_5["ðŸ‘¤ Human: Discovery call & validation"]
    
    a2_1 --> a2_2 --> a2_3 --> a2_4 --> a2_5
  end
  
  subgraph AP3["âš¡ Phase 3: AI-Assisted Planning"]
    direction TB
    a3_1["ðŸ¤– Auto: Stakeholder mapping (LinkedIn)"]
    a3_2["ðŸ¤– Auto: Success plan template gen"]
    a3_3["ðŸ‘¤ Human: Executive kickoff"]
    a3_4["ðŸ‘¤ Human: Co-create CS plan"]
    a3_5["ðŸ¤– Auto: Plan tracking setup"]
    
    a3_1 --> a3_2 --> a3_3 --> a3_4 --> a3_5
  end
  
  subgraph AP4["âš¡ Phase 4: Autonomous Activation"]
    direction TB
    a4_1["ðŸ¤– Auto: Onboarding workflows"]
    a4_2["ðŸ¤– Auto: Training scheduling"]
    a4_3["ðŸ¤– Auto: Progress tracking"]
    a4_4["ðŸ¤– Auto: FTV milestone detection"]
    a4_5["ðŸ¤– Auto: Adoption nudges (email/in-app)"]
    a4_6["ðŸ‘¤ Human: High-touch check-ins"]
    a4_7["ðŸ¤– Auto: Playbook triggers"]
    
    a4_1 --> a4_2 --> a4_3 --> a4_4
    a4_5 --> a4_6
    a4_4 --> a4_7
  end
  
  subgraph AP8["âš¡ Phase 8: Automated Value Proof"]
    direction TB
    a8_1["ðŸ¤– Auto: Usage data aggregation"]
    a8_2["ðŸ¤– Auto: ROI calculation (AI)"]
    a8_3["ðŸ¤– Auto: QBR deck generation"]
    a8_4["ðŸ¤– Auto: Value story creation (AI)"]
    a8_5["ðŸ‘¤ Human: QBR presentation"]
    a8_6["ðŸ¤– Auto: Action items tracking"]
    
    a8_1 --> a8_2 --> a8_3 --> a8_4 --> a8_5 --> a8_6
  end
  
  subgraph AP10["âš¡ Phase 10: Relationship Intelligence"]
    direction TB
    a10_1["ðŸ¤– Auto: Advocacy opportunity detection"]
    a10_2["ðŸ¤– Auto: Reference request routing"]
    a10_3["ðŸ¤– Auto: Feedback collection & analysis"]
    a10_4["ðŸ‘¤ Human: Strategic relationship mgmt"]
    
    a10_1 --> a10_2 --> a10_3 --> a10_4
  end
  
  %% Main flow progression
  AP1 --> AP2 --> AP3 --> AP4 --> AP8 --> AP10
  
  %% =========================
  %% CONTINUOUS LOOPS (AI-Driven)
  %% =========================
  
  subgraph LOOP1["ðŸ”„ Autonomous Orchestration"]
    direction TB
    l1_1["ðŸ¤– Auto: Smart touchpoint scheduling"]
    l1_2["ðŸ¤– Auto: Meeting prep (AI briefs)"]
    l1_3["ðŸ¤– Auto: Follow-up automation"]
    l1_4["ðŸ¤– Auto: CRM auto-update"]
    l1_5["ðŸ¤– Auto: Internal sync notifications"]
    l1_6["ðŸ¤– Auto: Partner workflow triggers"]
    
    l1_1 --> l1_2 --> l1_3 --> l1_4 --> l1_5 --> l1_6
  end
  
  subgraph LOOP2["ðŸ“Š Real-Time Observability"]
    direction TB
    l2_1["ðŸ¤– Auto: Usage monitoring dashboard"]
    l2_2["ðŸ¤– Auto: Telemetry alerts"]
    l2_3["ðŸ¤– Auto: Health score calculation"]
    l2_4["ðŸ¤– Auto: Sentiment analysis (NLP)"]
    l2_5["ðŸ¤– Auto: Anomaly detection (ML)"]
    
    l2_1 --> l2_2 --> l2_3 --> l2_4 --> l2_5
  end
  
  subgraph LOOP3["âš ï¸ Proactive Risk Management"]
    direction TB
    l3_1["ðŸ¤– Auto: Churn prediction (ML)"]
    l3_2["ðŸ¤– Auto: Risk playbook execution"]
    l3_3["ðŸ¤– Auto: Escalation routing"]
    l3_4["ðŸ‘¤ Human: Critical issue resolution"]
    l3_5["ðŸ¤– Auto: Recovery tracking"]
    
    l3_1 --> l3_2 --> l3_3 --> l3_4 --> l3_5
  end
  
  %% Loop interconnections
  LOOP1 --> LOOP2
  LOOP2 --> LOOP3
  LOOP3 --> LOOP1
  
  %% =========================
  %% EXCEPTION HANDLING
  %% =========================
  
  risk_critical["ðŸš¨ Critical Risk Alert"]:::critical
  
  subgraph EXC["âš¡ Phase 11: Intelligent Churn Response"]
    direction TB
    e1["ðŸ¤– Auto: Churn risk assessment"]
    e2["ðŸ¤– Auto: Win-back playbook trigger"]
    e3["ðŸ‘¤ Human: Executive save intervention"]
    e4["ðŸ¤– Auto: Post-mortem analysis (AI)"]
    e5["ðŸ¤– Auto: Knowledge base update"]
    
    e1 --> e2 --> e3 --> e4 --> e5
  end
  
  LOOP3 --> risk_critical --> EXC
  
  %% =========================
  %% AI INTELLIGENCE CONNECTIONS
  %% =========================
  
  INTEL -.orchestrates.-> LOOP1
  INTEL -.monitors.-> LOOP2
  INTEL -.predicts.-> LOOP3
  INTEL -.optimizes.-> AP4
  INTEL -.generates.-> AP8
  
  AP3 -.feeds data.-> INTEL
  AP4 -.feeds signals.-> INTEL
  LOOP2 -.feeds insights.-> INTEL
  
  %% =========================
  %% EXPANSION ENGINE
  %% =========================
  
  subgraph EXP["ðŸ’° AI-Driven Expansion"]
    direction TB
    exp1["ðŸ¤– Auto: Upsell opportunity scoring"]
    exp2["ðŸ¤– Auto: Cross-sell recommendations"]
    exp3["ðŸ¤– Auto: Expansion alert to AE"]
    exp4["ðŸ‘¤ Human: Strategic expansion discussion"]
    
    exp1 --> exp2 --> exp3 --> exp4
  end
  
  AP8 --> EXP
  AP10 --> EXP
  INTEL -.identifies.-> EXP
  
  %% =========================
  %% STYLING
  %% =========================
  
  classDef autoPhase fill:#4CAF50,stroke:#2E7D32,color:#fff,stroke-width:2px;
  classDef humanPhase fill:#2196F3,stroke:#1565C0,color:#fff,stroke-width:2px;
  classDef intelligence fill:#9C27B0,stroke:#6A1B9A,color:#fff,stroke-width:3px;
  classDef loop fill:#FF9800,stroke:#E65100,color:#fff,stroke-width:2px;
  classDef observe fill:#00BCD4,stroke:#006064,color:#fff,stroke-width:2px;
  classDef risk fill:#F44336,stroke:#B71C1C,color:#fff,stroke-width:2px;
  classDef critical fill:#D32F2F,stroke:#B71C1C,color:#fff,stroke-width:3px;
  classDef expansion fill:#4CAF50,stroke:#1B5E20,color:#fff,stroke-width:2px;
  
  class AP1,AP2,AP3,AP4,AP8,AP10 autoPhase;
  class INTEL intelligence;
  class LOOP1 loop;
  class LOOP2 observe;
  class LOOP3 risk;
  class risk_critical critical;
  class EXC risk;
  class EXP expansion;
